:root{
  --bg:#0f0f0f;
  --panel:#151515; --panel-2:#1b1b1b;
  --line:#2b2b2b;
  --text:#e9e9e9; --muted:#bdbdbd;
  --green:#1d8f2d; --red:#7a2323;
  --btn:#2f2f2f;
  --focus:#7dd3fc;
  --good:#22c55e; --warn:#f59e0b; --bad:#ef4444;
  --teal:#14b8a6;
}

/* Base */
html,body{
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}
.wrapper{padding:18px}
.container{
  max-width:980px;margin:0 auto;
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:14px;
  padding:18px;
  box-shadow:0 0 20px rgba(0,0,0,.35)
}
h1{margin:0 0 8px;color:#a9ff88;text-align:center}
h2{margin:8px 0}
.demo-note{
  background:#101010;border:1px dashed #3a3a3a;color:#dcdcdc;
  padding:10px;border-radius:10px;margin:10px 0
}

/* Navbar */
.navbar{background:#0e0e0e;border-bottom:1px solid #222}
.navbar-container{
  max-width:1100px;margin:auto;
  display:flex;align-items:center;justify-content:space-between;
  padding:10px 14px
}
.logo{color:#a9ff88;text-decoration:none;font-weight:800}
.nav-links{display:flex;gap:10px;list-style:none;margin:0;padding:0}
.nav-links a{color:#dcdcdc;text-decoration:none}
.nav-links a:hover{text-decoration:underline}

/* Paneles y layout */
.panel{
  background:var(--panel-2);
  border:1px solid var(--line);
  border-radius:12px;
  padding:14px;margin:14px 0
}
.grid{display:grid;gap:10px}
.grid-2{grid-template-columns:repeat(2,minmax(0,1fr))}
.botones{margin-top:10px;display:flex;gap:10px;flex-wrap:wrap}

.stats{
  display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:10px
}
.stat{
  background:#171717;border:1px solid #272727;
  padding:10px;border-radius:10px;text-align:center
}

/* Resultados / colores semánticos */
.result{font-weight:800;margin-top:8px}
.good{color:var(--good)}
.warn{color:var(--warn)}
.bad{color:var(--bad)}

/* Ads placeholder */
.ads-slot{
  margin:16px auto;max-width:728px;min-height:90px;
  border:1px dashed #2b2b2b;border-radius:10px;background:#111
}

/* Footer */
.footer{text-align:center;color:var(--muted);padding:20px 0}

/* Form controls */
input,select{
  width:100%;
  background:#121212;color:var(--text);
  border:1px solid #2c2c2c;border-radius:8px;padding:8px
}
input:focus-visible, select:focus-visible, .btn:focus-visible{
  outline:2px solid var(--focus); outline-offset:2px;
  box-shadow:0 0 0 4px rgba(125,211,252,0.15);
}

/* Botones */
.btn{
  border:0;padding:10px 14px;border-radius:10px;
  font-weight:700;cursor:pointer;transition:transform .06s ease, opacity .2s ease, filter .15s ease
}
.btn:hover{transform:translateY(-1px)}
.btn:active{transform:translateY(0)}
.btn[disabled]{opacity:.6;cursor:not-allowed}

.btn-primary{background:var(--green);color:#fff}
.btn-primary:hover{filter:brightness(1.05)}
.btn-sec{background:var(--btn);color:#ddd}
.btn-sec:hover{filter:brightness(1.07)}
.btn-danger{background:var(--red);color:#fff}
.btn-danger:hover{filter:brightness(1.05)}

/* Selector de intervalo */
.intervalos{
  display:flex;align-items:center;gap:10px;margin-top:10px
}
.intervalos label{color:var(--muted);font-size:.95rem}
#intervalSelect{
  max-width:160px;
  background:#121212;border:1px solid #2c2c2c;color:var(--text)
}

/* Toggle de lado Long/Short */
.lado{
  display:inline-flex;border:1px solid #2c2c2c;border-radius:10px;overflow:hidden
}
/* Oculta radios pero mantiene accesibilidad */
.lado input{position:absolute;opacity:0;width:1px;height:1px}
.lado label{
  padding:8px 12px;cursor:pointer;background:#141414;color:#ddd;
  border-right:1px solid #2c2c2c;user-select:none
}
.lado label:last-of-type{border-right:0}
/* HTML: input#sideLong + label[for=sideLong] ... input#sideShort + label[for=sideShort] */
#sideLong:checked + label[for="sideLong"],
#sideShort:checked + label[for="sideShort"]{
  background:#1c1c1c;color:#a9ff88
}

/* Canvas + loader */
.chart-wrap{position:relative;height:420px;width:100%}
.chart-loading{
  position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
  background:rgba(0,0,0,.25);backdrop-filter:saturate(60%) blur(2px);
  border-radius:12px;z-index:2
}
.spinner{
  width:26px;height:26px;border-radius:50%;
  border:3px solid rgba(255,255,255,.25);
  border-top-color:#fff;animation:spin 1s linear infinite
}
@keyframes spin{to{transform:rotate(360deg)}}

/* Badge de resultado */
.resultado-badge{
  position: fixed;
  top: 16px; left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
  padding: 10px 16px;
  border-radius: 999px;
  font-weight: 800;
  letter-spacing: .3px;
  box-shadow: 0 8px 20px rgba(0,0,0,.35);
  animation: popIn .15s ease;
}
.resultado-badge.win{ background: var(--teal); color:#071a17 }
.resultado-badge.lose{ background: var(--bad);  color:#220b0b }
@keyframes popIn{
  from{ transform: translateX(-50%) scale(.9); opacity: 0; }
  to{ transform: translateX(-50%) scale(1); opacity: 1; }
}

/* ===== Ticker de precio en vivo ===== */
.ticker{
  display:grid;gap:8px;
  background:#131313;border:1px solid #272727;border-radius:12px;padding:12px
}
.ticker-row{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.ticker-label{color:var(--muted)}
.ticker-price{font-weight:800;font-size:1.25rem;letter-spacing:.3px}
.ticker-arrow{font-weight:800}
.ticker-change{font-weight:700}

.t-up{color:#22c55e}
.t-down{color:#ef4444}
.t-flat{color:#cbd5e1}

.t-blink{animation:blink .25s ease}
@keyframes blink{
  0%{opacity:.6} 100%{opacity:1}
}

/* Responsive */
@media (max-width:720px){
  .grid-2{grid-template-columns:1fr}
  .stats{grid-template-columns:repeat(2,1fr)}
  .ads-slot{max-width:320px;min-height:50px}
  .container{padding:14px}
  .chart-wrap{height:320px}
}

/* Accesibilidad: reduce motion */
@media (prefers-reduced-motion: reduce){
  *{animation:none !important; transition:none !important}
}


/* ===== Tabla de historial ===== */
.table-wrap{overflow:auto}

.tabla{
  width:100%;
  border-collapse:collapse;
  background:#131313;
  border:1px solid #272727;
  border-radius:12px;
  overflow:hidden;
}
.tabla th,
.tabla td{
  padding:8px 10px;
  border-bottom:1px solid #232323;
  white-space:nowrap;
}
.tabla th{
  text-align:left;
  font-weight:800;
  color:#dcdcdc;
  background:#161616;
  position:sticky; top:0; /* cabezal fijo al hacer scroll */
  z-index:1;
}
.tabla tr:hover td{ background:#151515; }

/* Colores semánticos dentro de la tabla */
.tabla .good{ color:var(--good); font-weight:800; }
.tabla .bad{  color:var(--bad);  font-weight:800; }
.tabla .warn{ color:var(--warn); font-weight:800; }

/* Botones del historial (coherentes con tu paleta) */
#btnExportHist.btn-sec{ background:#1a1a1a; border:1px solid #2b2b2b; }
#btnClearHist.btn-danger{ background:var(--bad); }

/* ===== Stats extras (wins/losses/etc.) ===== */
.stats .stat strong{ display:block; font-size:1.15rem; }
#stWins{ color:var(--good); font-weight:800; }
#stLosses{ color:var(--bad);  font-weight:800; }
#stNeutrals{ color:var(--warn); font-weight:800; }
#stWinRate{ color:var(--teal); font-weight:800; }

/* Badge de resultado (ya tenías variantes) – pulido leve */
.resultado-badge{
  backdrop-filter:saturate(120%) blur(2px);
  border:1px solid rgba(0,0,0,.25);
}
