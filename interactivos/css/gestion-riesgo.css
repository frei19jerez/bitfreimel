:root{
  --bg:#0f0f0f;
  --panel:#151515; --panel-2:#1b1b1b;
  --line:#2b2b2b;
  --text:#e9e9e9; --muted:#bdbdbd;
  --green:#1d8f2d; --red:#7a2323;
  --btn:#2f2f2f;
  --focus:#7dd3fc;
  --good:#22c55e; --warn:#f59e0b; --bad:#ef4444;
  --teal:#14b8a6;

  /* Tipografía fluida */
  --fs-100: clamp(.9rem, .85rem + .3vw, 1rem);
  --fs-200: clamp(1rem, .95rem + .6vw, 1.15rem);
  --fs-300: clamp(1.15rem, 1.05rem + 1vw, 1.35rem);
  --fs-400: clamp(1.35rem, 1.15rem + 1.6vw, 1.65rem);
}

/* ===== Base ===== */
html,body{margin:0;padding:0}
html,body{
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  -webkit-text-size-adjust:100%;
  font-size: var(--fs-100);
}
*,*::before,*::after{box-sizing:border-box}
img,canvas,video,svg{max-width:100%;height:auto;display:block}
.wrapper{padding:18px}
.container{
  width:100%;
  max-width:980px;
  margin-inline:auto;
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:14px;
  padding:18px;
  box-shadow:0 0 20px rgba(0,0,0,.35);
  overflow:hidden; /* evita desbordes en móviles */
}
h1{
  margin:0 0 8px;
  color:#a9ff88;
  text-align:center;
  font-size: var(--fs-400);
}
h2{
  margin:8px 0;
  font-size: var(--fs-300);
}
.demo-note{
  background:#101010;border:1px dashed #3a3a3a;color:#dcdcdc;
  padding:10px;border-radius:10px;margin:10px 0
}

/* ===== Navbar ===== */
.navbar{
  position: sticky; top:0; z-index: 50;
  background:#0e0e0e;
  border-bottom:1px solid #222;
  padding-top: max(env(safe-area-inset-top), 0px);
}
.navbar-container{
  width:100%;
  max-width:1100px;margin:auto;
  display:flex;align-items:center;justify-content:space-between;
  gap:12px;
  padding:10px 14px
}
.logo{color:#a9ff88;text-decoration:none;font-weight:800;white-space:nowrap}
.nav-links{
  display:flex;gap:10px;list-style:none;margin:0;padding:0;flex-wrap:wrap
}
.nav-links a{color:#dcdcdc;text-decoration:none;padding:6px 8px;border-radius:8px}
.nav-links a:hover{background:#151515}

/* — Botón hamburguesa (si lo usas) — */
.nav-toggle{
  display:none;
  background:#1a1a1a;border:1px solid #2b2b2b;color:#e9e9e9;
  padding:8px 10px;border-radius:10px;cursor:pointer;font-weight:700;
}
@media (max-width:480px){
  .nav-toggle{display:inline-flex;align-items:center;gap:8px}
  .navbar-container{flex-wrap:wrap}
  .nav-links{width:100%;display:none;flex-direction:column}
  .nav-links.open,
  .nav-links[aria-expanded="true"]{display:flex}
}

/* ===== Paneles y layout ===== */
.panel{
  background:var(--panel-2);
  border:1px solid var(--line);
  border-radius:12px;
  padding:14px;margin:14px 0
}
.grid{display:grid;gap:10px}
.grid-2{grid-template-columns:repeat(2,minmax(0,1fr))}
.botones{margin-top:10px;display:flex;gap:10px;flex-wrap:wrap}

.stats{
  display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:10px
}
.stat{
  background:#171717;border:1px solid #272727;
  padding:10px;border-radius:10px;text-align:center
}

/* ===== Resultados / colores semánticos ===== */
.result{font-weight:800;margin-top:8px}
.good{color:var(--good)}
.warn{color:var(--warn)}
.bad{color:var(--bad)}

/* ===== Ads (robustos) ===== */
.ads-slot{
  margin:16px auto;max-width:728px;min-height:90px;
  border:1px dashed #2b2b2b;border-radius:10px;background:#111
}
/* Oculta ins sin inicializar para evitar “texto de atributos” */
.adsbygoogle{display:block; min-height:1px;}
.adsbygoogle:empty{visibility:hidden}

/* ===== Footer ===== */
.footer{
  text-align:center;color:var(--muted);padding:20px 0;
  padding-bottom: calc(20px + env(safe-area-inset-bottom));
}

/* ===== Form controls ===== */
input,select{
  width:100%;
  background:#121212;color:var(--text);
  border:1px solid #2c2c2c;border-radius:8px;padding:10px;
  min-height:44px; /* target táctil accesible */
  font-size: var(--fs-100);
}
input:focus-visible, select:focus-visible, .btn:focus-visible{
  outline:2px solid var(--focus); outline-offset:2px;
  box-shadow:0 0 0 4px rgba(125,211,252,0.15);
}

/* ===== Botones ===== */
.btn{
  border:0;padding:12px 14px;border-radius:10px;
  font-weight:700;cursor:pointer;transition:transform .06s ease, opacity .2s ease, filter .15s ease
}
.btn:hover{transform:translateY(-1px)}
.btn:active{transform:translateY(0)}
.btn[disabled]{opacity:.6;cursor:not-allowed}

.btn-primary{background:var(--green);color:#fff}
.btn-primary:hover{filter:brightness(1.05)}
.btn-sec{background:var(--btn);color:#ddd}
.btn-sec:hover{filter:brightness(1.07)}
.btn-danger{background:var(--red);color:#fff}
.btn-danger:hover{filter:brightness(1.05)}

/* ===== Selector de intervalo ===== */
.intervalos{
  display:flex;align-items:center;gap:10px;margin-top:10px;flex-wrap:wrap
}
.intervalos label{color:var(--muted);font-size:.95rem}
#intervalSelect{
  max-width:160px;width:100%;
  background:#121212;border:1px solid #2c2c2c;color:var(--text)
}

/* ===== Toggle Long/Short ===== */
.lado{
  display:inline-flex;border:1px solid #2c2c2c;border-radius:10px;overflow:hidden
}
.lado input{position:absolute;opacity:0;width:1px;height:1px}
.lado label{
  padding:10px 12px;cursor:pointer;background:#141414;color:#ddd;
  border-right:1px solid #2c2c2c;user-select:none
}
.lado label:last-of-type{border-right:0}
#sideLong:checked + label[for="sideLong"],
#sideShort:checked + label[for="sideShort"]{
  background:#1c1c1c;color:#a9ff88
}

/* ===== Canvas + loader ===== */
.chart-wrap{
  position:relative;
  height:420px;width:100%;
  display:flex; justify-content:center; align-items:stretch; /* centra el canvas */
}
#chartVelas{ display:block; margin:0 auto; }
.chart-loading{
  position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
  background:rgba(0,0,0,.25);backdrop-filter:saturate(60%) blur(2px);
  border-radius:12px;z-index:2
}
.spinner{
  width:26px;height:26px;border-radius:50%;
  border:3px solid rgba(255,255,255,.25);
  border-top-color:#fff;animation:spin 1s linear infinite
}
@keyframes spin{to{transform:rotate(360deg)}}

/* ===== Badge de resultado ===== */
.resultado-badge{
  position: fixed;
  top: 16px; left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
  padding: 10px 16px;
  border-radius: 999px;
  font-weight: 800;
  letter-spacing: .3px;
  box-shadow: 0 8px 20px rgba(0,0,0,.35);
  animation: popIn .15s ease;
  backdrop-filter:saturate(120%) blur(2px);
  border:1px solid rgba(0,0,0,.25);
}
.resultado-badge.win{ background: var(--teal); color:#071a17 }
.resultado-badge.lose{ background: var(--bad);  color:#220b0b }
@keyframes popIn{
  from{ transform: translateX(-50%) scale(.9); opacity: 0; }
  to{ transform: translateX(-50%) scale(1); opacity: 1; }
}

/* ===== Ticker de precio en vivo ===== */
.ticker{
  display:grid;gap:8px;
  background:#131313;border:1px solid #272727;border-radius:12px;padding:12px
}
.ticker-row{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.ticker-label{color:var(--muted)}
.ticker-price{font-weight:800;font-size: var(--fs-300);letter-spacing:.3px}
.ticker-arrow{font-weight:800}
.ticker-change{font-weight:700}
.t-up{color:#22c55e}
.t-down{color:#ef4444}
.t-flat{color:#cbd5e1}
.t-blink{animation:blink .25s ease}
@keyframes blink{ 0%{opacity:.6} 100%{opacity:1} }

/* ===== Tabla de historial ===== */
.table-wrap{overflow:auto; -webkit-overflow-scrolling: touch;}
.tabla{
  width:100%;
  border-collapse:separate; border-spacing:0;
  background:#131313;
  border:1px solid #272727;
  border-radius:12px;
  overflow:hidden;
  min-width: 720px; /* asegura scroll en móviles */
}
.tabla th,
.tabla td{
  padding:8px 10px;
  border-bottom:1px solid #232323;
  white-space:nowrap;
  font-size: var(--fs-100);
}
.tabla th{
  text-align:left;
  font-weight:800;
  color:#dcdcdc;
  background:#161616;
  position:sticky; top:0;
  z-index:1;
}
.tabla tr:hover td{ background:#151515; }
.tabla .good{ color:var(--good); font-weight:800; }
.tabla .bad{  color:var(--bad);  font-weight:800; }
.tabla .warn{ color:var(--warn); font-weight:800; }
#btnExportHist.btn-sec{ background:#1a1a1a; border:1px solid #2b2b2b; }
#btnClearHist.btn-danger{ background:var(--bad); }

/* ===== Stats extras ===== */
.stats .stat strong{ display:block; font-size:1.15rem; }
#stWins{ color:var(--good); font-weight:800; }
#stLosses{ color:var(--bad);  font-weight:800; }
#stNeutrals{ color:var(--warn); font-weight:800; }
#stWinRate{ color:var(--teal); font-weight:800; }

/* ===== Responsive ===== */
@media (max-width:1024px){
  .navbar-container{padding:10px 16px}
}

@media (max-width:720px){
  .grid-2{grid-template-columns:1fr}
  .stats{grid-template-columns:repeat(2,1fr)}
  .ads-slot{max-width:320px;min-height:50px}
  .container{padding:14px}
  .chart-wrap{height:320px}
}

@media (max-width:480px){
  .navbar-container{flex-direction:column;align-items:flex-start;gap:10px}
  .nav-links{flex-direction:column;align-items:stretch;width:100%}
  .stats{grid-template-columns:1fr}
  .ticker-price{font-size: var(--fs-200)}
  .chart-wrap{height:260px}
  .wrapper{padding:12px}
  .botones .btn{flex:1} /* botones ocupan todo el ancho */
}

@media (max-width:360px){
  .chart-wrap{height:220px}
  .btn{width:100%}
}

/* ===== Accesibilidad: reduce motion ===== */
@media (prefers-reduced-motion: reduce){
  *{animation:none !important; transition:none !important}
}
